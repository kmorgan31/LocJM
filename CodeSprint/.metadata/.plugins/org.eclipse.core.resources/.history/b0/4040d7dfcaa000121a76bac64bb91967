package com.example.hotellocator;

import java.util.ArrayList;
import android.os.Bundle;
import android.os.Parcelable;
import android.content.Intent;
import android.support.v4.app.ListFragment;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.TextView;

public class FeaturedFragment extends ListFragment {

	TextView description;
	TextView hotelName;
	ListView hotelListView;
	ArrayAdapter<String> listAdapter;
	Hotel[] hotels = {
    		new Hotel("Hilton", "7 Hibiscus Drive", "Lorem ipsum", 1001),
    		new Hotel("Four Seasons", "2A Shalimar Close", "Eureka", 1002),
    		new Hotel("Holiday Inn", "83 Lore Lane", "Exciting", 1003),
    		new Hotel("Grande Palladium", "3 Old Way", "Boring", 1004)
    };;
	
	public FeaturedFragment(){
//		Bundle bundle = getArguments().getBundle("hotels");
//		Parcelable[] parcels = bundle.getParcelableArray("hotels");
//
//		Hotel[] hotels = new Hotel[parcels.length];
//		for (Parcelable par : parcels){
//		     hotels.add((Hotel) par);              
//		}
		
	}
	
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
          Bundle savedInstanceState) {
  	
      	View rootView = inflater.inflate(R.layout.activity_featured, container, false);
      	hotelName = (TextView)rootView.findViewById(R.id.hotelName);
		hotelName.setText("Pegasus");
		description = (TextView)rootView.findViewById(R.id.hotelDescription);
		description.setText("Lorem Ipsum is simply dummy text of the printing and typesetting industry.");
		ArrayList<String> hotelList = new ArrayList<String>();
		for (int i=0;i<hotelList.size();i++){
			hotelList.add(hotels[i].getHotelName());
		}
		listAdapter = new ArrayAdapter<String>(getActivity(),
		        android.R.layout.simple_list_item_1, hotelList);
		
		setListAdapter(listAdapter);
		
		return rootView;
	}
		
		@Override
		public void onListItemClick(ListView l, View v, int position, long id) {
				 //TODO Auto-generated method stub
				 //Go to details of hotel
				Intent myIntent = new Intent();
//				Bundle b = new Bundle();
//				b.putSerializable("Hotels", (Serializable[]) hotels);
				myIntent.setClass(getActivity(), DetailsFragment.class);
				//myIntent.putExtra("hotels", hotels);
				myIntent.putExtra("hotel position", position);
			    startActivity(myIntent);
			}
	}
